# 基礎設施管理系統

## 基本架構

- 一個api(port: 1452)
- 一個管理介面(port: 1453)
- api經過token驗證後反向代理到目標服務，攜帶所有請求header、body、查詢參數
  - 用戶或token若被停權、token過期或無效或與請求的服務不符則回傳403
  - 找不到服務則回傳404
- api只有一個endpoint：`/<目標服務名稱>/<存取token>/<目標服務的endpoint>`
- 管理介面只有一個admin，人員都是由admin管理，admin密碼由環境變數設定

## 技術棧

- 前端：HTML + CSS + JS + Bootstrap
- 後端：Gin + Gorm
- 資料庫：SQLite3
- 部署：Docker + Docker Compose

## 對應關係

- 一個人員可以有多個token
- 一個token只能對應一個人員
- 一個token只能對應一個服務
- 一個服務可以對應多個token

## 管理介面功能

### 管理

- 新增/修改/刪除/停權人員
- 新增/修改/刪除/停權token
- 新增/修改/刪除/停權服務

### 視覺化儀表板

- 每個人員每種服務使用量圓餅圖、長條圖、折線圖
- 每個人員每個token使用量圓餅圖、長條圖、折線圖
- 每個token隨時間使用量折線圖
- 每個服務隨時間使用總量折線圖
- 每個服務使用總量圓餅圖、長條圖
